<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Installation - INDICATE Data Dictionary Documentation</title>
  <link rel="icon" type="image/png" href="../assets/favicon.png">
  <link rel="stylesheet" href="../assets/style.css">
</head>
<body>
  <!-- Header -->
  <header class="doc-header">
    <img src="../assets/logo.png" alt="INDICATE" class="doc-header-logo">
    <span class="doc-header-title">INDICATE Data Dictionary</span>
    <span class="doc-header-subtitle">Documentation</span>
    <div class="doc-header-right">
      <a href="https://huggingface.co/spaces/music-fandom/indicate-data-dictionary" class="doc-header-link" target="_blank">
        Launch App
      </a>
      <div class="lang-switch">
        <a href="installation.html" class="lang-btn active">EN</a>
        <a href="../fr/installation.html" class="lang-btn">FR</a>
      </div>
    </div>
  </header>

  <div class="doc-container">
    <!-- Sidebar -->
    <nav class="doc-sidebar">
      <div class="sidebar-section">
        <div class="sidebar-section-title">Getting Started</div>
        <ul class="sidebar-nav">
          <li><a href="index.html">Introduction</a></li>
          <li><a href="installation.html" class="active">Installation</a></li>
          <li><a href="quickstart.html">Quick Start</a></li>
        </ul>
      </div>

      <div class="sidebar-section">
        <div class="sidebar-section-title">Data Dictionary</div>
        <ul class="sidebar-nav">
          <li><a href="dictionary-overview.html">Overview</a></li>
          <li><a href="dictionary-concepts.html">General Concepts</a></li>
          <li><a href="dictionary-mappings.html">OMOP Mappings</a></li>
          <li><a href="dictionary-comments.html">Expert Comments</a></li>
        </ul>
      </div>

      <div class="sidebar-section">
        <div class="sidebar-section-title">Projects</div>
        <ul class="sidebar-nav">
          <li><a href="projects-overview.html">Overview</a></li>
          <li><a href="projects-create.html">Create a Project</a></li>
          <li><a href="projects-assign.html">Assign Concepts</a></li>
        </ul>
      </div>

      <div class="sidebar-section">
        <div class="sidebar-section-title">Concept Mapping</div>
        <ul class="sidebar-nav">
          <li><a href="mapping-overview.html">Overview</a></li>
          <li><a href="mapping-alignments.html">Alignments</a></li>
          <li><a href="mapping-import.html">Import Data</a></li>
          <li><a href="mapping-export.html">Export Formats</a></li>
          <li><a href="mapping-evaluate.html">Evaluate Mappings</a></li>
        </ul>
      </div>

      <div class="sidebar-section">
        <div class="sidebar-section-title">Advanced</div>
        <ul class="sidebar-nav">
          <li><a href="vocabularies.html">OHDSI Vocabularies</a></li>
          <li><a href="settings.html">Settings</a></li>
          <li><a href="users.html">User Management</a></li>
        </ul>
      </div>

      <div class="sidebar-section">
        <div class="sidebar-section-title">Reference</div>
        <ul class="sidebar-nav">
          <li><a href="faq.html">FAQ</a></li>
          <li><a href="glossary.html">Glossary</a></li>
          <li><a href="changelog.html">Changelog</a></li>
        </ul>
      </div>
    </nav>

    <!-- Main content -->
    <main class="doc-main">
      <h1>Installation</h1>

      <p>
        The INDICATE Data Dictionary application can be used in three ways: online via Hugging Face Spaces,
        installed locally as an R package, or deployed using Docker.
      </p>

      <h2>Option 1: Use Online (Recommended)</h2>

      <p>
        The easiest way to use the application is through the hosted version on Hugging Face Spaces.
        No installation required.
      </p>

      <div class="info-box success">
        <div class="info-box-title">Try it now</div>
        <p>
          Access the application at:
          <a href="https://huggingface.co/spaces/music-fandom/indicate-data-dictionary" target="_blank">
            huggingface.co/spaces/music-fandom/indicate-data-dictionary
          </a>
        </p>
      </div>

      <h2>Option 2: Install as R Package</h2>

      <h3>Prerequisites</h3>

      <ul>
        <li>R version 4.0.0 or higher</li>
        <li>RStudio (recommended but not required)</li>
      </ul>

      <h3>Installation Steps</h3>

      <ol class="steps">
        <li>
          <strong>Install from GitHub</strong>
          <p>Open R or RStudio and run:</p>
          <pre><code># Install remotes if not already installed
install.packages("remotes")

# Install the INDICATE Data Dictionary package
remotes::install_github("music-fandom/indicate-data-dictionary")</code></pre>
        </li>
        <li>
          <strong>Load the package</strong>
          <pre><code>library(indicateDataDictionary)</code></pre>
        </li>
        <li>
          <strong>Launch the application</strong>
          <pre><code>run_app()</code></pre>
          <p>The application will open in your default web browser.</p>
        </li>
      </ol>

      <h3>Configuration Options</h3>

      <p>You can customize the application behavior with these parameters:</p>

      <pre><code>run_app(
  language = "en",           # "en" or "fr"
  port = 3838,               # Port number
  launch.browser = TRUE      # Open browser automatically
)</code></pre>

      <h2>Option 3: Docker Deployment</h2>

      <p>
        For production deployments or isolated environments, use the Docker image.
      </p>

      <h3>Prerequisites</h3>

      <ul>
        <li>Docker installed on your system</li>
        <li>At least 2GB of available RAM</li>
      </ul>

      <h3>Using Docker</h3>

      <ol class="steps">
        <li>
          <strong>Pull the Docker image</strong>
          <pre><code>docker pull ghcr.io/music-fandom/indicate-data-dictionary:latest</code></pre>
        </li>
        <li>
          <strong>Run the container</strong>
          <pre><code>docker run -p 7860:7860 ghcr.io/music-fandom/indicate-data-dictionary:latest</code></pre>
        </li>
        <li>
          <strong>Access the application</strong>
          <p>Open your browser and navigate to <code>http://localhost:7860</code></p>
        </li>
      </ol>

      <h3>Building from Source</h3>

      <p>To build the Docker image locally:</p>

      <pre><code># Clone the repository
git clone https://github.com/music-fandom/indicate-data-dictionary.git
cd indicate-data-dictionary

# Build the image
docker build -t indicate-data-dictionary .

# Run the container
docker run -p 7860:7860 indicate-data-dictionary</code></pre>

      <h2>OHDSI Vocabularies (Optional)</h2>

      <p>
        To enable full vocabulary search and concept lookup features, you need to download
        the OHDSI vocabularies from ATHENA.
      </p>

      <div class="info-box warning">
        <div class="info-box-title">Note</div>
        <p>
          Downloading OHDSI vocabularies requires registration on the ATHENA website
          and acceptance of vocabulary license agreements.
        </p>
      </div>

      <ol class="steps">
        <li>
          <strong>Register on ATHENA</strong>
          <p>
            Create an account at <a href="https://athena.ohdsi.org/" target="_blank">athena.ohdsi.org</a>
          </p>
        </li>
        <li>
          <strong>Download vocabularies</strong>
          <p>
            Select and download at minimum: SNOMED, LOINC, RxNorm, and ICD10CM vocabularies.
            The download will be a ZIP file containing CSV files.
          </p>
        </li>
        <li>
          <strong>Extract the files</strong>
          <p>
            Unzip the downloaded file to a folder on your computer. You will need the path
            to this folder when configuring the application.
          </p>
        </li>
        <li>
          <strong>Configure in the application</strong>
          <p>
            Go to Settings and specify the vocabulary folder path, or upload the CSV files
            if using the hosted version.
          </p>
        </li>
      </ol>

      <p>
        See <a href="vocabularies.html">OHDSI Vocabularies</a> for detailed configuration instructions.
      </p>

      <h2>Troubleshooting</h2>

      <h3>Package installation fails</h3>

      <p>If you encounter errors during installation:</p>

      <ul>
        <li>Make sure you have the latest version of R (4.0.0+)</li>
        <li>Update your packages: <code>update.packages(ask = FALSE)</code></li>
        <li>On Linux, install system dependencies: <code>libcurl</code>, <code>libssl</code>, <code>libxml2</code></li>
      </ul>

      <h3>Application doesn't start</h3>

      <ul>
        <li>Check if another application is using the same port</li>
        <li>Try specifying a different port: <code>run_app(port = 8080)</code></li>
        <li>Check the R console for error messages</li>
      </ul>

      <h3>Docker container exits immediately</h3>

      <ul>
        <li>Check container logs: <code>docker logs &lt;container_id&gt;</code></li>
        <li>Ensure you have enough memory allocated to Docker</li>
        <li>Verify the port is not already in use</li>
      </ul>

      <!-- Footer navigation -->
      <div class="doc-footer-nav">
        <a href="index.html" class="nav-prev">
          <span class="nav-label">Previous</span>
          <span class="nav-title">Introduction</span>
        </a>
        <a href="quickstart.html" class="nav-next">
          <span class="nav-label">Next</span>
          <span class="nav-title">Quick Start</span>
        </a>
      </div>
    </main>
  </div>
</body>
</html>
